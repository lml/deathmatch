!function e(t,o,n){function r(s,c){if(!o[s]){if(!t[s]){var p="function"==typeof require&&require;if(!c&&p)return p(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=o[s]={exports:{}};t[s][0].call(a.exports,function(e){var o=t[s][1][e];return r(o?o:e)},a,a.exports,e,t,o,n)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t){var o,n,r={}.hasOwnProperty,i=function(e,t){function o(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};n=e("./../../../../../bower_components/backbone/backbone.js"),n.$=e("./../../../../../bower_components/jquery/dist/jquery.js"),e("./../../../../../bower_components/backbone-associations/backbone-associations.js"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.owner=function(){return null!=this.parents&&null!=this.parents[0]?this.parents[0]:void 0},t.prototype.resourceName=function(){return this.constructor.name.toLowerCase()},t.prototype.url=function(){var e;return e=this.owner(),e?""+e.url()+"/"+this.resourceName():void 0},t}(n.Collection),t.exports=o},{"./../../../../../bower_components/backbone-associations/backbone-associations.js":"isMywK","./../../../../../bower_components/backbone/backbone.js":"KDJVm1","./../../../../../bower_components/jquery/dist/jquery.js":"d6Ad4U"}],2:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./../../../../../bower_components/backbone/backbone.js"),o.$=e("./../../../../../bower_components/jquery/dist/jquery.js"),e("./../../../../../bower_components/backbone-associations/backbone-associations.js"),r=e("./../../../../../bower_components/underscore/underscore.js"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.resourceName=function(){return"choice"},t.prototype.question=function(){return this.collection.owner()},t.prototype.position=function(){return this.get("position")},t.prototype.letter=function(){return String.fromCharCode(97+this.position())},t.prototype.canMoveUp=function(){return"simple"===this.type()&&this.position()>0},t.prototype.canMoveDown=function(){var e,t;return e=function(e){return function(){return e.position()===e.collection.length-1}}(this),t=function(e){return function(){return"simple"!==e.collection.at(e.position()+1).type()}}(this),"simple"===this.type()&&!(e()||t())},t.prototype.type=function(){return this.get("type")},t.prototype.weight=function(){switch(this.type()){case"simple":return-100+this.position();case"all":return 500;case"none":return 1e4;default:return this.get("combos").length}},t.prototype.compare=function(e){var t,o,n,i,s,c,p;return t=-1,i=1,c=0,s=function(e,o){switch(!1){case e!==o:return c;case!(o>e):return t;default:return i}},n=s(this.weight(),e.weight()),n===c&&this.type()===(p=e.type())&&"combo"===p&&(o=r.find(r.zip(this.combos(),e.combos()),function(e){var t,o;return t=e[0],o=e[1],t.compare(o)!==c}),n=o?o[0].compare(o[1]):c),n},t.prototype.setSelections=function(e){return"combo"===this.type()?this.set({combos:e}):void 0},t.prototype.selections=function(){var e,t,o,n,i,s,c,p;if("combo"===this.type()){for(n=this.collection.filter(function(){return function(e){return"simple"===e.type()}}(this)),e=this.get("combos"),t=function(t){return r.contains(e,t.get("id"))},i={},p=[],s=0,c=n.length;c>s;s++)o=n[s],p.push([o,t(o)]);return p}},t.prototype.combos=function(){var e;return"combo"===this.type()?(e=this.get("combos").map(function(e){return function(t){return e.collection.get(t)}}(this)),r.sortBy(e,function(e){return e.position()})):void 0},t.prototype.moveUp=function(){var e;return this.canMoveUp()&&(e=this.position()),this.collection.move(e,e-1)},t.prototype.moveDown=function(){var e;return this.canMoveDown()&&(e=this.position()),this.collection.move(e,e+1)},t}(o.AssociatedModel),t.exports=n},{"./../../../../../bower_components/backbone-associations/backbone-associations.js":"isMywK","./../../../../../bower_components/backbone/backbone.js":"KDJVm1","./../../../../../bower_components/jquery/dist/jquery.js":"d6Ad4U","./../../../../../bower_components/underscore/underscore.js":"l0hNr+"}],3:[function(e,t){var o,n,r,i,s,c,p={}.hasOwnProperty,a=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};n=e("./associated_collection.js.coffee"),r=e("./../../../../../bower_components/backbone/backbone.js"),r.$=e("./../../../../../bower_components/jquery/dist/jquery.js"),i=e("./choice.js.coffee"),o=e("./../../../../../bower_components/jquery/dist/jquery.js"),c=e("./../../../../../bower_components/underscore/underscore.js"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=i,t.prototype.positionField="position",t.prototype.resourceName=function(){return"choices"},t.prototype.initialize=function(){return this.listenTo(this,"add remove sort",this.setPositionsFromIndex),this.listenTo(this,"change:combos",function(e){return function(){return e.sort()}}(this))},t.prototype.comparator=function(e,t){return e.compare(t)},t.prototype.savePositions=function(e){return null==e&&(e={}),0!==this.models.length?(c.defaults(e,{attrs:{order:c.map(this.filter(function(e){return e.hasChanged}),function(e){return{id:e.get("id"),position:e.get(this.positionField)}})}}),this.sync("update",this,e)):void 0},t.prototype.setPositionsFromIndex=function(){return this.each(function(e){return function(t,o){return t.set(e.positionField,o)}}(this))},t.prototype.simples=function(){return this.filter(function(e){return"simple"===e.type()})},t.prototype.move=function(e,t){return e instanceof r.Model&&(e=e.get(this.positionField)),this.models.splice(t,0,this.models.splice(e,1)[0]),this.setPositionsFromIndex(),this.sort(),this.savePositions({error:function(){return function(){return alert("sort order could not be saved, please reload this page")}}(this)})},t}(n),t.exports=s},{"./../../../../../bower_components/backbone/backbone.js":"KDJVm1","./../../../../../bower_components/jquery/dist/jquery.js":"d6Ad4U","./../../../../../bower_components/underscore/underscore.js":"l0hNr+","./associated_collection.js.coffee":1,"./choice.js.coffee":2}],4:[function(e,t){var o,n,r,i,s={}.hasOwnProperty,c=function(e,t){function o(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./../../../../../bower_components/backbone/backbone.js"),o.$=e("./../../../../../bower_components/jquery/dist/jquery.js"),e("./../../../../../bower_components/backbone-associations/backbone-associations.js"),r=e("./part.js.coffee"),i=e("./parts.js.coffee"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.urlRoot="/api/exercises",t.prototype.relations=[{type:o.Many,key:"parts",relatedModel:r,collectionType:i}],t.prototype.defaults={number:""},t}(o.AssociatedModel),t.exports=n},{"./../../../../../bower_components/backbone-associations/backbone-associations.js":"isMywK","./../../../../../bower_components/backbone/backbone.js":"KDJVm1","./../../../../../bower_components/jquery/dist/jquery.js":"d6Ad4U","./part.js.coffee":5,"./parts.js.coffee":6}],5:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./../../../../../bower_components/backbone/backbone.js"),o.$=e("./../../../../../bower_components/jquery/dist/jquery.js"),e("./../../../../../bower_components/backbone-associations/backbone-associations.js"),r=e("./questions.js.coffee"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.resourceName=function(){return"part"},t.prototype.defaults={position:-1,credit:-1},t.prototype.relations=[{type:o.Many,key:"questions",collectionType:r}],t}(o.AssociatedModel),t.exports=n},{"./../../../../../bower_components/backbone-associations/backbone-associations.js":"isMywK","./../../../../../bower_components/backbone/backbone.js":"KDJVm1","./../../../../../bower_components/jquery/dist/jquery.js":"d6Ad4U","./questions.js.coffee":8}],6:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./associated_collection.js.coffee"),n=e("./part.js.coffee"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.model=n,t.prototype.resourceName=function(){return"parts"},t}(o),t.exports=r},{"./associated_collection.js.coffee":1,"./part.js.coffee":5}],7:[function(e,t){var o,n,r,i,s={}.hasOwnProperty,c=function(e,t){function o(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./../../../../../bower_components/backbone/backbone.js"),o.$=e("./../../../../../bower_components/jquery/dist/jquery.js"),e("./../../../../../bower_components/backbone-associations/backbone-associations.js"),n=e("./choices.js.coffee"),i=e("./../../../../../bower_components/underscore/underscore.js"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.resourceName=function(){return"question"},t.prototype.defaults={type:"multiple_choice_question"},t.prototype.counts=function(){var e;return e=this.get("choices").countBy("type"),i.extend({},{all:0,none:0,simple:0,combo:0},e)},t.prototype.canAddCombo=function(){var e,t;return e=this.counts(),t=e.simple,t>=2&&e.combo<Math.pow(2,t)-(t+1)},t.prototype.canAddAll=function(){var e;return e=this.counts(),0===e.all&&e.simple>=2},t.prototype.canAddNone=function(){var e;return e=this.counts(),e.simple>1&&0===e.none},t.prototype.relations=[{type:o.Many,key:"choices",collectionType:n}],t}(o.AssociatedModel),t.exports=r},{"./../../../../../bower_components/backbone-associations/backbone-associations.js":"isMywK","./../../../../../bower_components/backbone/backbone.js":"KDJVm1","./../../../../../bower_components/jquery/dist/jquery.js":"d6Ad4U","./../../../../../bower_components/underscore/underscore.js":"l0hNr+","./choices.js.coffee":3}],8:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./associated_collection.js.coffee"),n=e("./question.js.coffee"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.model=n,t.prototype.resourceName=function(){return"questions"},t}(o),t.exports=r},{"./associated_collection.js.coffee":1,"./question.js.coffee":7}],9:[function(e){var t=e("./../../../../../bower_components/backbone-faux-server/backbone-faux-server.js"),o=e("./../../../../../bower_components/underscore/underscore.js"),n=n||{};n.stub=function(){function e(e,t,n){o.each(n,function(n){var r=o.result(e,n);r&&(t[n]=r)})}var t=this;return t.maxIds={exercise:1,part:0,question:0,choice:0},t.exercise={background:"",parts:[]},t.find=function(e,t){return t=parseInt(t),o.findWhere(e,{id:t})},t.findPart=function(e,o){return t.find(r.parts,o)},t.findQuestion=function(e,o,n){var r=t.findPart(e,o);return t.find(r.questions,n)},t.findChoice=function(e,o,n,r){var i=t.findQuestion(e,o,n);return t.find(i.choices,r)},t.update=function(e,o){return t.exercise.background=o.background,t.exercise},t.addPart=function(e,o){return t.maxIds.part+=1,o.id=t.maxIds.part,o.background="",o.position=t.exercise.parts.length,o.questions=[],t.exercise.parts.push(o),o},t.updatePart=function(o,n,r){var i=t.findPart(o,n);return e(r,i,["background","questions"]),i},t.removePart=function(e,o){var n=t.exercise.parts,r=t.findPart(e,o),i=n.indexOf(r);return i>=0&&n.splice(i,1),{success:!0}},t.addQuestion=function(e,o,n){var r=t.findPart(e,o),i=r.questions;return t.maxIds.question+=1,n.id=t.maxIds.question,n.position=i.length,n.stem="",n.choices=[],i.push(n),n},t.updateQuestion=function(o,n,r,i){var s=t.findPart(o,n),c=(s.questions,t.findQuestion(o,n,r));return e(i,c,["stem","choices"]),c},t.removeQuestion=function(e,o,n){var r=t.findPart(e,o),i=r.questions,s=t.findQuestion(e,o,n),c=i.indexOf(s);return c>=0&&i.splice(c,1),{success:!0}},t.updateChoices=function(e,n,r,i){var s=t.findPart(e,n),c=(s.questions,t.findQuestion(e,n,r)),p=c.choices;return i.order?(o.each(p,function(e){e.position=i.order[e.id]}),{success:!0}):{success:!1}},t.addChoice=function(e,o,n,r){var i=t.findPart(e,o),s=(i.questions,t.findQuestion(e,o,n)),c=s.choices;return t.maxIds.choice+=1,r.id=t.maxIds.choice,r.position=c.length,r.content="",r.combos=[],c.push(r),r},t.updateChoice=function(o,n,r,i,s){var c=t.findPart(o,n),p=(c.questions,t.findQuestion(o,n,r)),a=(p.choices,t.findChoice(o,n,r,i));return e(s,a,["position","content","combos"]),a},t.removeChoice=function(e,o,n,r){var i=t.findPart(e,o),s=(i.questions,t.findQuestion(e,o,n)),c=s.choices,p=t.findChoice(e,o,n,r),a=c.indexOf(p);return a>=0&&c.splice(a,1),{succes:!0}},{exercise:{parts:t.exercise.parts,update:t.update,addPart:t.addPart,updatePart:t.updatePart,removePart:t.removePart,addQuestion:t.addQuestion,updateQuestion:t.updateQuestion,removeQuestion:t.removeQuestion,addChoice:t.addChoice,updateChoice:t.updateChoice,updateChoices:t.updateChoices,removeChoice:t.removeChoice}}};var r=n.stub().exercise;t.put("/api/exercises/:exerciseId",function(e,t){return r.update(t,e.data)}).post("/api/exercises/:exerciseId/parts",function(e,t){return r.addPart(t,e.data)}).put("/api/exercises/:exerciseId/parts/:partId",function(e,t,o){return r.updatePart(t,o,e.data)}).del("/api/exercises/:exerciseId/parts/:partId",function(e,t,o){return r.removePart(t,o)}).post("/api/exercises/:exerciseId/parts/:partId/questions",function(e,t,o){return r.addQuestion(t,o,e.data)}).put("/api/exercises/:exerciseId/parts/:partId/questions/:questionId",function(e,t,o,n){return r.updateQuestion(t,o,n,e.data)}).del("/api/exercises/:exerciseId/parts/:partId/questions/:questionId",function(e,t,o,n){return r.removeQuestion(t,o,n)}).put("/api/exercises/:exerciseId/parts/:partId/questions/:questionId/choices",function(e,t,o,n){return r.updateChoices(t,o,n,e.data)}).post("/api/exercises/:exerciseId/parts/:partId/questions/:questionId/choices",function(e,t,o,n){return r.addChoice(t,o,n,e.data)}).put("/api/exercises/:exerciseId/parts/:partId/questions/:questionId/choices/:choiceId",function(e,t,o,n,i){return r.updateChoice(t,o,n,i,e.data)}).del("/api/exercises/:exerciseId/parts/:partId/questions/:questionId/choices/:choiceId",function(e,t,o,n,i){return r.removeChoice(t,o,n,i)}),t.enable()},{"./../../../../../bower_components/backbone-faux-server/backbone-faux-server.js":"i/emQT","./../../../../../bower_components/underscore/underscore.js":"l0hNr+"}],10:[function(e){var t,o,n,r,i,s;t=e("./../../../../bower_components/backbone/backbone.js"),t.$=e("./../../../../bower_components/jquery/dist/jquery.js"),t._=e("./../../../../bower_components/underscore/underscore.js"),i=e("./../../../../bower_components/marionette/lib/backbone.marionette.js"),n=e("../../../common/assets/js/entities/exercise.js.coffee"),r=e("./views/exercise.js.coffee"),s=e("../../../common/assets/js/entities/parts.js.coffee"),e("../../../common/assets/js/stubs/api.js"),o=new i.Application,o.addRegions({exerciseRegion:"#exercise-editor"}),o.on("start",function(){var e,t;return e=new n({id:1}),e.set({parts:new s}),t=new r({model:e}),o.exerciseRegion.show(t)}),o.start()},{"../../../common/assets/js/entities/exercise.js.coffee":4,"../../../common/assets/js/entities/parts.js.coffee":6,"../../../common/assets/js/stubs/api.js":9,"./../../../../bower_components/backbone/backbone.js":"KDJVm1","./../../../../bower_components/jquery/dist/jquery.js":"d6Ad4U","./../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./../../../../bower_components/underscore/underscore.js":"l0hNr+","./views/exercise.js.coffee":22}],11:[function(e,t){var o,n,r,i,s={}.hasOwnProperty,c=function(e,t){function o(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};r=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),n=e("../views/actions.js.coffee"),i=e("./../../../../../bower_components/underscore/underscore.js"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.defaults=function(){return{helpers:{number:function(e){return function(){return e.view.model.collection.indexOf(e.view.model)+1}}(this)}}},t.prototype.onShow=function(){return this.actionsView=new n({model:this.view.model,helpers:i.extend({},this.defaults.helpers,this.options.helpers)}),this.view.actions.show(this.actionsView)},t.prototype.onRefreshActions=function(){var e;return null!=(e=this.actionsView)?e.rerender():void 0},t}(r.Behavior),t.exports=o},{"../views/actions.js.coffee":14,"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./../../../../../bower_components/underscore/underscore.js":"l0hNr+"}],12:[function(e,t){var o,n,r,i,s,c={}.hasOwnProperty,p=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};i=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),s=e("./../../../../../bower_components/underscore/underscore.js"),o=e("./../../../../../bower_components/jquery/dist/jquery.js"),r=e("../views/content.js.coffee"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.modes={edit:"mode-edit",view:"mode-view",prompt:"mode-prompt"},t.prototype.mode=function(){switch(!1){case!this.container().hasClass(this.modes.edit):return"edit";case!this.container().hasClass(this.modes.view):return"view";default:return"prompt"}},t.prototype.setMode=function(e,t){var o;return this.container().removeClass(s.without(this.modes,this.modes[t]).join(" ")).addClass(this.modes[t]),null!=(o=this.contentView)?o.triggerMethod("mode:changed",e,t):void 0},t.prototype.viewOrPrompt=function(e){var t,o;return null==e&&(e=null!=(o=this.options.loadContent())?o:""),t=""===e?"prompt":"view",this.setMode(e,t)},t.prototype.container=function(){return this.options.contentRegion.$el},t.prototype.onContentEdit=function(){return this.editContent()},t.prototype.onContentView=function(){return this.cancelEditing()},t.prototype.onContentCancel=function(){return this.cancelEditing()},t.prototype.onContentSave=function(){return this.saveAndClose()},t.prototype.onShow=function(){return this.contentView=new r({prompts:this.options.prompts}),this.listenTo(this.contentView,"content:save",this.saveAndClose),this.listenTo(this.contentView,"content:cancel",this.cancelEditing),this.listenTo(this.contentView,"content:edit",this.editContent),this.options.contentRegion.show(this.contentView),"edit"===this.mode()?this.editContent():this.viewOrPrompt()},t.prototype.cancelEditing=function(){return"edit"===this.mode()?this.viewOrPrompt():void 0},t.prototype.editContent=function(){var e;return e=this.options.loadContent(),this.setMode(e,"edit")},t.prototype.save=function(e){var t;return null==e&&(e=null),o.when(this.options.saveChanges(null!=(t=this.contentView)?t.editorContent():void 0)).done(function(){return"function"==typeof e?e():void 0}).fail(function(e){return this.showError(e)})},t.prototype.saveAndClose=function(){var e;return e=this,this.save(function(){return e.viewOrPrompt()})},t}(i.Behavior),t.exports=n},{"../views/content.js.coffee":20,"./../../../../../bower_components/jquery/dist/jquery.js":"d6Ad4U","./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./../../../../../bower_components/underscore/underscore.js":"l0hNr+"}],13:[function(e,t){var o,n,r={}.hasOwnProperty,i=function(e,t){function o(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};n=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.events=function(){var e,t;return e="click .js-delete-"+this.view.model.constructor.name.toLowerCase()+"-button",t={},t[e]="deleteClicked",t},t.prototype.deleteClicked=function(){return this.view.model.destroy()},t}(n.Behavior),t.exports=o},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D"}],14:[function(e,t){var o,n,r={}.hasOwnProperty,i=function(e,t){function o(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};n=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.initialize=function(){return this.template="#"+(""+this.model.constructor.name.toLowerCase()+"-actions-template"),this.listenTo(this.model.collection,"change add remove",this.rerender)},t.prototype.rerender=function(){return this.isDestroyed?void 0:this.render()},t.prototype.templateHelpers=function(){return this.options.helpers},t}(n.ItemView),t.exports=o},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D"}],15:[function(e,t){var o,n,r,i,s,c,p,a={}.hasOwnProperty,u=function(e,t){function o(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};s=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),p=e("./simple_choice.js.coffee"),r=e("./combo_choice.js.coffee"),c=e("./quantifier_choice.js.coffee"),o=e("../behaviors/actionable.js.coffee"),i=e("../behaviors/deleteable.js.coffee"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.id=function(){var e,t,o;return t=this.model.collection.owner().collection.owner().get("position"),o=this.model.collection.owner().get("position"),e=this.model.position(),"part-"+t+"-question-"+o+"-choice-"+e+"-container"},t.prototype.tagName="li",t.prototype.className="js-choice-container choice-container has-drawer",t.prototype.template="#choice-container-template",t.prototype.triggers={"click .js-move-up-choice-button":"choice:moveup","click .js-move-down-choice-button":"choice:movedown"},t.prototype.regions={container:".js-choice-item",actions:".js-choice-actions-container"},t.prototype.behaviors=function(){return{Deleteable:{behaviorClass:i},Actionable:{behaviorClass:o,helpers:{letter:function(e){return function(){return e.model.letter()}}(this),canMoveUp:function(e){return function(){return e.model.canMoveUp()}}(this),canMoveDown:function(e){return function(){return e.model.canMoveDown()}}(this)}}}},t.prototype.viewClassMap={simple:p,combo:r,all:c,none:c},t.prototype.onShow=function(){var e;return e=this.viewClassMap[this.model.type()],this.container.show(new e({model:this.model}))},t.prototype.onChoiceMoveup=function(){return this.model.moveUp()},t.prototype.onChoiceMovedown=function(){return this.model.moveDown()},t}(s.LayoutView),t.exports=n},{"../behaviors/actionable.js.coffee":11,"../behaviors/deleteable.js.coffee":13,"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./combo_choice.js.coffee":17,"./quantifier_choice.js.coffee":26,"./simple_choice.js.coffee":29}],16:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};r=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),o=e("./choice.js.coffee"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.tagName="ol",t.prototype.className="js-choices-list letters",t.prototype.childView=o,t.prototype.onChoiceAdd=function(e){return this.collection.create({type:e},{wait:!0})},t.prototype.onAddChild=function(e){return e.triggerMethod("show"),this.triggerMethod("children:changed")},t}(r.CollectionView),t.exports=n},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./choice.js.coffee":15}],17:[function(e,t){var o,n,r,i,s={}.hasOwnProperty,c=function(e,t){function o(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};i=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),r=e("./combo_choice_viewer.js.coffee"),n=e("./combo_choice_editor.js.coffee"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.className="js-combo-choice-container",t.prototype.template="#combo-choice-container-template",t.prototype.regions={viewer:".js-combo-viewer-container",editor:".js-combo-editor-container"},t.prototype.onShow=function(){return this.viewer.show(new r({model:this.model})),this.editor.show(new n({model:this.model}))},t}(i.LayoutView),t.exports=o},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./combo_choice_editor.js.coffee":18,"./combo_choice_viewer.js.coffee":19}],18:[function(e,t){var o,n,r={}.hasOwnProperty,i=function(e,t){function o(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};n=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.className="js-combo-choice-editor-container",t.prototype.template="#combo-choice-editor-template",t}(n.ItemView),t.exports=o},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D"}],19:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};n=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),r=e("./../../../../../bower_components/underscore/underscore.js"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.className="js-combo-choice-viewer-container",t.prototype.template="#combo-choice-viewer-template",t.prototype.serializeData=function(){var e,t;return e=this.model.combos(),e.length>0?(t=r.initial(e).join(", "),e.length>1&&(t+=" & "),t+=r.last(e),{choiceText:t}):{choiceText:"Invalid selections. Please edit to fix."}},t}(n.ItemView),t.exports=o},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./../../../../../bower_components/underscore/underscore.js":"l0hNr+"}],20:[function(e,t){var o,n,r,i,s,c,p={}.hasOwnProperty,a=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};r=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),c=e("./../../../../../bower_components/underscore/underscore.js"),n=e("./editor.js.coffee"),s=e("./viewer.js.coffee"),i=e("./prompter.js.coffee"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template="#content-template",t.prototype.regions={editor:".js-editor-container",viewer:".js-viewer-container",prompter:".js-prompter-container"},t.prototype.modeViews=function(){return{edit:this.editorView,view:this.viewerView,prompt:this.prompterView}},t.prototype.onShow=function(){return this.editorView=new n,this.viewerView=new s,this.prompterView=new i(this.options.prompts),this.listenTo(this.editorView,"content:save",function(){return this.triggerMethod("content:save")}),this.listenTo(this.editorView,"content:cancel",function(){return this.triggerMethod("content:cancel")}),this.listenTo(this.viewerView,"content:edit",function(){return this.triggerMethod("content:edit")}),this.listenTo(this.prompterView,"content:edit",function(){return this.triggerMethod("content:edit")}),this.editor.show(this.editorView),this.viewer.show(this.viewerView),this.prompter.show(this.prompterView)},t.prototype.onContentChanged=function(e){return c.each(this.modeViews(),function(t){return null!=t?t.triggerMethod("content:changed",e):void 0})},t.prototype.onModeChanged=function(e){return this.triggerMethod("content:changed",e),c.each(this.modeViews(),function(e){return null!=e?e.triggerMethod("display"):void 0})},t.prototype.editorContent=function(){var e;return null!=(e=this.editorView)?e.getContent():void 0},t}(r.LayoutView),t.exports=o},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./../../../../../bower_components/underscore/underscore.js":"l0hNr+","./editor.js.coffee":21,"./prompter.js.coffee":25,"./viewer.js.coffee":30}],21:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};n=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),r=e("quilljs"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.options={theme:"snow",editorSelector:".ql-editor",toolbarSelector:".ql-toolbar",footerSelector:".ql-footer"},t.prototype.triggers={"click @ui.saveButton":"content:save","click @ui.cancelButton":"content:cancel"},t.prototype.ui={saveButton:".js-editor-save-button",cancelButton:".js-editor-cancel-button"},t.prototype.template="#editor-template",t.prototype.onShow=function(){return null==this.editor?(this.editor=new r(this.$(this.options.editorSelector)[0],{theme:this.options.theme}),this.editor.addModule("toolbar",{container:this.$(this.options.toolbarSelector)[0]}),this.editor.addModule("toolbar",{container:this.$(this.options.footerSelector)[0]})):void 0},t.prototype.getContent=function(){var e;return null!=(e=this.editor)?e.getHTML():void 0},t.prototype.onContentChanged=function(e){var t;return null!=(t=this.editor)?t.setHTML(e):void 0},t.prototype.onDisplay=function(){var e;return null!=(e=this.editor)?e.focus():void 0},t}(n.ItemView),t.exports=o},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D",quilljs:"aowo0O"}],22:[function(e,t){var o,n,r,i,s={}.hasOwnProperty,c=function(e,t){function o(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};r=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),i=e("./parts.js.coffee"),o=e("../behaviors/content_editable.js.coffee"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.id="exercise-container",t.prototype.className="has-drawer",t.prototype.template="#exercise-template",t.prototype.regions={content:".js-exercise-background-container",parts:".js-exercise-parts-container"},t.prototype.triggers={"click .js-add-part-button":"part:add"},t.prototype.behaviors=function(){var e;return e=this,{ContentEditable:{behaviorClass:o,prompts:{add:"Click here to add background information for the entire exercise.",edit:"Click to edit background information for the entire exercise."},contentRegion:e.content,loadContent:function(){return e.model.background
},saveChanges:function(t){return e.model.background=t,e.model.save()}}}},t.prototype.onShow=function(){return this.partsView=new i({collection:this.model.get("parts")}),this.parts.show(this.partsView)},t.prototype.onPartAdd=function(){var e;return null!=(e=this.partsView)?e.triggerMethod("part:add"):void 0},t}(r.LayoutView),t.exports=n},{"../behaviors/content_editable.js.coffee":12,"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./parts.js.coffee":24}],23:[function(e,t){var o,n,r,i,s,c,p={}.hasOwnProperty,a=function(e,t){function o(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};i=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),c=e("./questions.js.coffee"),n=e("../behaviors/content_editable.js.coffee"),o=e("../behaviors/actionable.js.coffee"),r=e("../behaviors/deleteable.js.coffee"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.id=function(){return"part-"+this.model.get("position")+"-container"},t.prototype.tagName="li",t.prototype.className="part-container has-drawer",t.prototype.template="#part-template",t.prototype.regions={content:".js-part-background-container",questions:".js-part-questions-container",actions:".js-part-actions-container"},t.prototype.triggers={"click .js-add-question-button":"question:add"},t.prototype.behaviors=function(){var e;return e=this,{Deleteable:{behaviorClass:r},Actionable:{behaviorClass:o},ContentEditable:{behaviorClass:n,prompts:{add:"Click here to add background information for this part.",edit:"Click to edit background information for this part."},contentRegion:e.content,loadContent:function(){return e.model.background},saveChanges:function(t){return e.model.background=t,e.model.save()}}}},t.prototype.onShow=function(){return this.questionsView=new c({collection:this.model.get("questions")}),this.questions.show(this.questionsView)},t.prototype.onQuestionAdd=function(){var e;return null!=(e=this.questionsView)?e.triggerMethod("question:add"):void 0},t}(i.LayoutView),t.exports=s},{"../behaviors/actionable.js.coffee":11,"../behaviors/content_editable.js.coffee":12,"../behaviors/deleteable.js.coffee":13,"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./questions.js.coffee":28}],24:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),n=e("./part.js.coffee"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.tagName="ol",t.prototype.childView=n,t.prototype.onChildrenChanged=function(){return this.$el.toggleClass("numbered",this.collection.length>1)},t.prototype.onPartAdd=function(){return this.collection.create({},{wait:!0})},t.prototype.onRemoveChild=function(){return this.triggerMethod("children:changed")},t.prototype.onAddChild=function(e){return e.triggerMethod("show"),this.triggerMethod("children:changed")},t}(o.CollectionView),t.exports=r},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./part.js.coffee":23}],25:[function(e,t){var o,n,r={}.hasOwnProperty,i=function(e,t){function o(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.options={add:"Click to add new content.",edit:"Click to edit content"},t.prototype.triggers={click:"content:edit"},t.prototype.template="#prompter-template",t.prototype.onContentChanged=function(e){return this.$el.toggleClass("empty-content",""===e)},t.prototype.serializeData=function(){return{prompts:{add:this.options.add,edit:this.options.edit}}},t}(o.ItemView),t.exports=n},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D"}],26:[function(e,t){var o,n,r={}.hasOwnProperty,i=function(e,t){function o(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.className="quantifier-choice-container viewer",t.prototype.template="#quantifier-choice-template",t}(o.ItemView),t.exports=n},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D"}],27:[function(e,t){var o,n,r,i,s,c,p,a,u={}.hasOwnProperty,d=function(e,t){function o(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};c=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),r=e("./choices.js.coffee"),i=e("../behaviors/content_editable.js.coffee"),n=e("../behaviors/actionable.js.coffee"),s=e("../behaviors/deleteable.js.coffee"),o=e("./../../../../../bower_components/jquery/dist/jquery.js"),a=e("./../../../../../bower_components/underscore/underscore.js"),p=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.id=function(){return"part-"+this.model.collection.owner().get("position")+"-question-"+this.model.get("position")+"-container"},t.prototype.initialize=function(){return this.listenTo(this.model.get("choices"),"add remove",function(e){return function(){return e.triggerMethod("refresh:actions")}}(this))},t.prototype.tagName="li",t.prototype.className="question-container has-drawer",t.prototype.template="#question-template",t.prototype.regions={content:".js-question-stem-container",choices:".js-question-choices-container",actions:".js-question-actions-container"},t.prototype.events={"click .js-add-choice-button":"OnAddButtonClick","click .js-add-combo-choice-button":"OnAddButtonClick","click .js-add-all-choice-button":"OnAddButtonClick","click .js-add-none-choice-button":"OnAddButtonClick"},t.prototype.behaviors=function(){return{Deleteable:{behaviorClass:s},Actionable:{behaviorClass:n,helpers:{canAddCombo:function(e){return function(){return e.model.canAddCombo()}}(this),canAddAll:function(e){return function(){return e.model.canAddAll()}}(this),canAddNone:function(e){return function(){return e.model.canAddNone()}}(this)}},ContentEditable:{behaviorClass:i,prompts:{add:"Click here to add the question stem.",edit:"Click to edit the question stem."},contentRegion:this.content,loadContent:function(e){return function(){return e.model.questionStem}}(this),saveChanges:function(e){return function(t){return e.model.questionStem=t,e.model.save()}}(this)}}},t.prototype.onShow=function(){return this.choicesView=new r({collection:this.model.get("choices")}),this.choices.show(this.choicesView)},t.prototype.OnAddButtonClick=function(e){return e.preventDefault(),e.stopPropagation(),a.each(["simple","combo","all","none"],function(t){return function(n){var r;return o(e.currentTarget).hasClass(""+n+"-choice")?(null!=(r=t.choicesView)&&r.triggerMethod("choice:add",n),!1):void 0}}(this))},t}(c.LayoutView),t.exports=p},{"../behaviors/actionable.js.coffee":11,"../behaviors/content_editable.js.coffee":12,"../behaviors/deleteable.js.coffee":13,"./../../../../../bower_components/jquery/dist/jquery.js":"d6Ad4U","./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./../../../../../bower_components/underscore/underscore.js":"l0hNr+","./choices.js.coffee":16}],28:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),n=e("./question.js.coffee"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.tagName="ol",t.prototype.childView=n,t.prototype.onQuestionAdd=function(){return this.collection.create({type:"multiple_choice_question"},{wait:!0})},t.prototype.onAddChild=function(e){return e.triggerMethod("show")},t}(o.CollectionView),t.exports=r},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D","./question.js.coffee":27}],29:[function(e,t){var o,n,r,i={}.hasOwnProperty,s=function(e,t){function o(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};n=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),o=e("../behaviors/content_editable.js.coffee"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.className="js-simple-choice-container",t.prototype.template="#simple-choice-template",t.prototype.regions={content:".js-content-container"},t.prototype.behaviors=function(){var e;return e=this,{ContentEditable:{behaviorClass:o,prompts:{add:"Click here to add the choice content.",edit:"Click to edit the choice content."},contentRegion:e.content,loadContent:function(){return e.model.content},saveChanges:function(t){return e.model.content=t,e.model.save()}}}},t}(n.LayoutView),t.exports=r},{"../behaviors/content_editable.js.coffee":12,"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D"}],30:[function(e,t){var o,n,r={}.hasOwnProperty,i=function(e,t){function o(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./../../../../../bower_components/marionette/lib/backbone.marionette.js"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.template="#viewer-template",t.prototype.triggers={click:"content:edit"},t.prototype.ui={content:".js-viewer"},t.prototype.onContentChanged=function(e){return this.ui.content.html(e)},t}(o.ItemView),t.exports=n},{"./../../../../../bower_components/marionette/lib/backbone.marionette.js":"KEBL1D"}]},{},[10]);